(this["webpackJsonpreact-dnd-app"]=this["webpackJsonpreact-dnd-app"]||[]).push([[0],{36:function(t,n,e){},37:function(t,n,e){},40:function(t,n,e){},41:function(t,n,e){"use strict";e.r(n);var r=e(2),c=e(1),a=e.n(c),i=e(26),d=e.n(i),o=(e(36),e(37),e(5)),u=e(7),s=e(13),l=e(14),m=e(17),f=e(16),j=e(21),b=e.n(j),p=function(t){Object(m.a)(e,t);var n=Object(f.a)(e);function e(){var t;Object(s.a)(this,e);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=n.call.apply(n,[this].concat(c))).onSubmit=function(n){var e=n.target;n.preventDefault(),t.props.onSubmit(e.input.value),e.reset()},t}return Object(l.a)(e,[{key:"render",value:function(){var t=this;return Object(r.jsx)("form",{onSubmit:this.onSubmit,ref:function(n){return t.form=n},children:Object(r.jsx)("input",{type:"text",className:"TextForm__input",name:"input",placeholder:this.props.placeholder})})}}]),e}(c.Component);function g(t){return Object(r.jsxs)("div",{className:"Column",children:[Object(r.jsx)("div",{className:"Column__title",children:t.title}),t.children,Object(r.jsx)(p,{onSubmit:t.addCard,placeholder:"Add card..."})]})}var O=e(24),h=e(27),v=e.n(h),C=e(44),x=e(45);function I(t){var n=Object(C.a)({item:{type:"ItemTypes.CARD",id:t.id},isDragging:function(n){return console.log(n.getItem(),"==="),t.id===n.getItem().id},collect:function(t){return{isDragging:t.isDragging()}},end:function(t,n){return{isDragging:!1}}}),e=Object(O.a)(n,2),c=e[0].isDragging,a=e[1],i=Object(x.a)({accept:"ItemTypes.CARD",hover:function(n,e){var r=t.columnId,c=t.columnIndex,a=e.getItem();a.id!==t.id&&(console.log("===move"),t.moveCard(a.id,r,c))}}),d=Object(O.a)(i,2)[1];return console.log("isDragging",c),Object(r.jsx)("div",{ref:function(t){return a(d(t))},className:v()("Card",{"Card--dragging":c,"Card--spacer":t.isSpacer}),children:Object(r.jsx)("div",{className:"Card__title",children:t.title})})}function y(t){var n=t.cards,e=t.columns,c=t.moveCard,a=t.addCard,i=t.addColumn;return Object(r.jsxs)("div",{className:"Board",children:[e.map((function(t){return Object(r.jsxs)(g,{title:t.title,addCard:a.bind(null,t.id),children:[t.cardIds.map((function(t){return n.find((function(n){return n.id===t}))})).map((function(n,e){return Object(r.jsx)(I,{id:n.id,columnId:t.id,columnIndex:e,title:n.title,moveCard:c},n.id)})),0===t.cardIds.length&&Object(r.jsx)(I,{isSpacer:!0,moveCard:function(n){return c(n,t.id,0)}})]},t.id)})),Object(r.jsx)("div",{className:"Column",children:Object(r.jsx)(p,{onSubmit:i,placeholder:"Add Column..."})})]})}var S,D=e(43),A=e(29),N=(e(40),0),k=0,T=Array.from({length:9}).map((function(){return{id:++k,title:"Card ".concat(k)}})),_=["TODO","Doing","Done"].map((function(t,n){return{id:N++,title:t,cardIds:T.slice(3*n,3*n+3).map((function(t){return t.id}))}})),w=function(t){Object(m.a)(e,t);var n=Object(f.a)(e);function e(){var t;Object(s.a)(this,e);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=n.call.apply(n,[this].concat(c))).state={cards:T,columns:_},t.addColumn=function(n){var e=n.trim();if(e){var r={id:++N,title:e,cardIds:[]};t.setState((function(t){return{columns:[].concat(Object(u.a)(t.columns),[r])}}))}},t.addCard=function(n,e){var r=e.trim();if(r){var c={id:++k,title:r};t.setState((function(t){return{cards:[].concat(Object(u.a)(t.cards),[c]),columns:t.columns.map((function(t){return t.id===n?Object(o.a)(Object(o.a)({},t),{},{cardIds:[].concat(Object(u.a)(t.cardIds),[c.id])}):t}))}}))}},t.moveCard=function(n,e,r){console.log("cardId","destColumnId","index"),console.log(n,e,r),t.setState((function(t){return{columns:t.columns.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{cardIds:b.a.flowRight((function(c){return t.id===e?[].concat(Object(u.a)(c.slice(0,r)),[n],Object(u.a)(c.slice(r))):c}),(function(t){return t.filter((function(t){return t!==n}))}))(t.cardIds)})}))}}))},t}return Object(l.a)(e,[{key:"render",value:function(){return Object(r.jsx)(y,{cards:this.state.cards,columns:this.state.columns,moveCard:this.moveCard,addCard:this.addCard,addColumn:this.addColumn})}}]),e}(c.Component),F=(S=w,function(t){return Object(r.jsx)(D.a,{backend:A.a,children:Object(r.jsx)(S,Object(o.a)({},t))})}),B=function(){return Object(r.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",display:"flex",justifyContent:"center",margin:"20px",background:"linear-gradient(90deg,#ff8a00,#e52e71)",color:"#fff"},children:"Board App"})};var R=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(B,{}),"\\",Object(r.jsx)(F,{})]})},J=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,46)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;e(t),r(t),c(t),a(t),i(t)}))};d.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root")),J()}},[[41,1,2]]]);
//# sourceMappingURL=main.ecc6eb0f.chunk.js.map